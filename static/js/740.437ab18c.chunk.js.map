{"version":3,"file":"static/js/740.437ab18c.chunk.js","mappings":"oRAEMA,EAAU,mCAIVC,EAAUC,EAAAA,EAAAA,OAAa,CAC3BC,QAJe,kCAOJC,EAAkB,WAC7B,OAAOH,EAAQI,IAAR,sCAA2CL,GACnD,EAEYM,EAAW,SAAAC,GACtB,OAAON,EAAQI,IAAR,iBAAsBE,EAAtB,oBAAyCP,GACjD,EAEYQ,EAAe,SAAAC,GAC1B,OAAOR,EAAQI,IAAR,gBAAqBI,EAArB,4BAA2CT,GACnD,EAEYU,EAAkB,SAAAD,GAC7B,OAAOR,EAAQI,IAAR,gBAAqBI,EAArB,4BAA2CT,GACnD,EAEYW,EAAkB,SAAAC,GAC7B,OAAOX,EAAQI,IAAR,+BAAoCL,EAApC,kBAAqDY,GAC7D,C,sFCoCD,UA3De,WACb,OAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOD,EAAP,KAAcI,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAqBC,GAArB,WACA,GAAoCL,EAAAA,EAAAA,UAAS,IAA7C,eAAOM,EAAP,KAAmBC,EAAnB,KAEMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACM,KAAVX,IAIJD,EAAAA,EAAAA,IAAgBC,GAAOY,MAAK,SAAAC,GAC1BV,EAAgBU,EAAIC,KAAKC,QAC1B,GACF,GAAE,CAACf,IAsBJ,OACE,iCACE,kBAAMgB,SATO,SAAAC,GACfA,EAAIC,iBAbJd,EAcgBG,GAPQ,SAACP,EAAOmB,GAEhCb,EAD6B,KAAVN,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAEhD,CAKCoB,CAAkBb,GAClBC,EAAc,GACf,EAIG,WACE,kBAAOa,SAnBI,SAAAJ,GACfT,EAAcS,EAAIK,OAAOH,MAC1B,EAiBgCA,MAAOZ,KAClC,mBAAQgB,KAAK,SAAb,SAAsB,eAGxB,wBACGrB,EAAasB,KAAI,gBAAG3B,EAAH,EAAGA,GAAI4B,EAAP,EAAOA,MAAP,OAChB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAa7B,GAAM8B,MAAO,CAAEC,KAAMnB,GAA1C,SACGgB,KAFI5B,EADO,QAUzB,C","sources":["Api/getMovies.js","Pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'e1f0ba7edbc19668553e294a4c65bcf8';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n\nconst request = axios.create({\n  baseURL: BASE_URL,\n});\n\nexport const getTrendsMovies = () => {\n  return request.get(`/trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const getMovie = movieId => {\n  return request.get(`/movie/${movieId}?api_key=${API_KEY}`);\n};\n\nexport const getMovieCast = id => {\n  return request.get(`movie/${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const getMovieReviews = id => {\n  return request.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n};\n\nexport const getMoviesByName = query => {\n  return request.get(`search/movie?api_key=${API_KEY}&query=${query}`);\n};","import { useState, useEffect } from 'react';\nimport { getMoviesByName } from 'Api/getMovies';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nconst Movies = () => {\n  const [moviesByName, setMoviesByName] = useState([]);\n  const [query, setQuery] = useState('');\n  // eslint-disable-next-line no-unused-vars\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [inputValue, setInputValue] = useState('');\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n\n    getMoviesByName(query).then(res => {\n      setMoviesByName(res.data.results);\n    });\n  }, [query]);\n\n  const onSubmitHandler = data => {\n    setQuery(data);\n  };\n\n  const onChange = evt => {\n    setInputValue(evt.target.value);\n  };\n\n  const updateQueryString = (query, value) => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n    onSubmitHandler(inputValue);\n    updateQueryString(inputValue, `query`);\n    setInputValue('');\n  };\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input onChange={onChange} value={inputValue}></input>\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <ul>\n        {moviesByName.map(({ id, title }) => (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","request","axios","baseURL","getTrendsMovies","get","getMovie","movieId","getMovieCast","id","getMovieReviews","getMoviesByName","query","useState","moviesByName","setMoviesByName","setQuery","useSearchParams","setSearchParams","inputValue","setInputValue","location","useLocation","useEffect","then","res","data","results","onSubmit","evt","preventDefault","value","updateQueryString","onChange","target","type","map","title","to","state","from"],"sourceRoot":""}